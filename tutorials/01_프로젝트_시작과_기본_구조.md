# 01. 프로젝트 시작과 기본 구조 이해하기

## 목차
1. [Spring Boot 프로젝트란?](#spring-boot-프로젝트란)
2. [프로젝트 구조 살펴보기](#프로젝트-구조-살펴보기)
3. [메인 애플리케이션 클래스 이해하기](#메인-애플리케이션-클래스-이해하기)
4. [설정 파일 이해하기](#설정-파일-이해하기)

---

## Spring Boot 프로젝트란?

Spring Boot는 Java 기반의 웹 애플리케이션을 쉽게 개발할 수 있게 해주는 프레임워크입니다. 
복잡한 설정을 자동으로 처리해주어 개발자가 비즈니스 로직에 집중할 수 있게 해줍니다.

### 주요 특징
- **자동 설정**: 필요한 라이브러리와 설정을 자동으로 구성
- **내장 서버**: 별도의 웹 서버 설치 없이 실행 가능
- **의존성 관리**: 필요한 라이브러리를 쉽게 추가

---

## 프로젝트 구조 살펴보기

프로젝트의 폴더 구조는 다음과 같습니다:

```
src/
├── main/
│   ├── java/
│   │   └── dev/nihilncunia/fantasy_builder/
│   │       ├── FantasyBuilderApplication.java  # 메인 애플리케이션
│   │       ├── config/                          # 설정 클래스
│   │       └── domain/                          # 비즈니스 로직
│   │           ├── common/                      # 공통 기능
│   │           ├── user/                        # 사용자 관리
│   │           ├── auth/                        # 인증
│   │           ├── trait/                       # 특성 관리
│   │           └── ability/                     # 어빌리티 관리
│   └── resources/
│       └── application.yml                      # 설정 파일
└── test/                                        # 테스트 코드
```

### 각 폴더의 역할

- **config/**: Spring Security 설정 등 애플리케이션 전역 설정
- **domain/**: 실제 비즈니스 로직이 있는 곳
  - **common/**: 모든 도메인에서 공통으로 사용하는 기능
  - **user/**, **auth/**, **trait/**, **ability/**: 각 기능별 도메인

---

## 메인 애플리케이션 클래스 이해하기

프로젝트의 시작점인 `FantasyBuilderApplication.java`를 살펴보겠습니다:

```java
package dev.nihilncunia.fantasy_builder;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;

@SpringBootApplication
@EnableJpaAuditing
public class FantasyBuilderApplication {

  public static void main(String[] args) {
    SpringApplication.run(FantasyBuilderApplication.class, args);
  }

}
```

### 어노테이션 설명

#### `@SpringBootApplication`
- **역할**: Spring Boot 애플리케이션임을 나타냅니다
- **내부 동작**: 
  - `@Configuration`: 이 클래스가 설정 클래스임을 나타냄
  - `@EnableAutoConfiguration`: 자동 설정 활성화
  - `@ComponentScan`: 컴포넌트 스캔 활성화 (자동으로 빈 등록)
- **왜 사용하나요?**: Spring Boot가 이 클래스를 시작점으로 인식하고, 필요한 모든 설정을 자동으로 수행합니다

#### `@EnableJpaAuditing`
- **역할**: JPA 감사(Auditing) 기능을 활성화합니다
- **무엇을 하나요?**: 
  - 엔티티가 생성되거나 수정될 때 자동으로 생성일시(`crtDt`), 수정일시(`updtDt`) 등을 기록
  - `CommonEntity`에서 `@CreatedDate`, `@LastModifiedDate`를 사용할 수 있게 해줌
- **왜 사용하나요?**: 매번 수동으로 날짜를 설정하는 대신, 자동으로 관리할 수 있습니다

### main 메서드
```java
public static void main(String[] args) {
  SpringApplication.run(FantasyBuilderApplication.class, args);
}
```

- **역할**: 애플리케이션을 시작하는 진입점입니다
- **동작 과정**:
  1. `SpringApplication.run()`이 호출되면
  2. Spring Boot가 내장 서버(기본적으로 Tomcat)를 시작하고
  3. 모든 설정을 로드하고
  4. 컴포넌트들을 스캔하여 빈으로 등록합니다

---

## 설정 파일 이해하기

`application.yml` 파일은 애플리케이션의 모든 설정을 담고 있습니다.

### 데이터베이스 설정

```yaml
spring:
  datasource:
    url: jdbc:postgresql://...  # 데이터베이스 연결 주소
    username: neondb_owner      # 데이터베이스 사용자명
    password: ...               # 비밀번호
    driver-class-name: org.postgresql.Driver
```

- **역할**: PostgreSQL 데이터베이스에 연결하기 위한 정보
- **왜 필요한가요?**: 애플리케이션이 데이터를 저장하고 조회하려면 데이터베이스 연결이 필요합니다

### JPA 설정

```yaml
spring:
  jpa:
    hibernate:
      ddl-auto: update  # update: 변경된 스키마만 반영
    show-sql: true      # 실행되는 SQL을 콘솔에 출력
```

- **`ddl-auto: update`**: 
  - 엔티티 클래스를 보고 테이블을 자동으로 생성/수정합니다
  - 개발 중에는 편리하지만, 운영 환경에서는 `validate`를 사용하는 것이 안전합니다
- **`show-sql: true`**: 
  - 실행되는 SQL 쿼리를 콘솔에 출력하여 디버깅에 도움이 됩니다

### JWT 설정

```yaml
jwt:
  secret: your-secret-key...  # 토큰 서명에 사용할 비밀키
  access-token-expiration: 3600000  # 1시간 (밀리초)
  refresh-token-expiration: 604800000  # 1주일 (밀리초)
```

- **역할**: JWT 토큰 생성 및 검증에 필요한 설정
- **왜 필요한가요?**: 사용자 인증을 위해 토큰을 발급하고 검증해야 합니다

### 보안 설정

```yaml
security:
  account:
    max-login-failures: 5  # 최대 로그인 실패 횟수
  password:
    min-length: 8          # 최소 비밀번호 길이
    require-uppercase: true # 대문자 필수
```

- **역할**: 보안 정책 설정
- **왜 필요한가요?**: 계정 보안을 강화하기 위해 로그인 실패 제한과 비밀번호 정책을 설정합니다

---

## 다음 단계

이제 기본 구조를 이해했으니, 다음 단계로 넘어가서 **공통 엔티티와 VO**에 대해 알아보겠습니다.

[다음: 02. 공통 엔티티와 VO 이해하기](./02_공통_엔티티와_VO.md)
